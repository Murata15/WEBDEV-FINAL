{% extends 'base.html' %}
{% block title %}Make a Payment{% endblock %}
{% block content %}
<div class="form-container">
  <h2>ðŸ’³ Make a Payment</h2>

  <form method="POST">
    <input type="number" name="amount" step="0.01" placeholder="Enter Amount" required><br><br>

    <!-- LOOK FOR ICONS OF THESE PAYMENT METHODS PUT IT INSIDE THE RESOURCES FOLDER -VINCENT -->
    <h3>Select Payment Method:</h3>
    <div class="payment-icons">
      <img src="{{ url_for('static', filename='RESOURCES/gcash.png') }}" alt="GCash" class="pay-icon" data-method="GCash">
      <img src="{{ url_for('static', filename='RESOURCES/paymaya.png') }}" alt="PayMaya" class="pay-icon" data-method="PayMaya">
      <img src="{{ url_for('static', filename='RESOURCES/bank.png') }}" alt="Bank Transfer" class="pay-icon" data-method="Bank Transfer">
    </div>

    <input type="hidden" name="method" id="paymentMethod" required>
    <br>
    <button type="submit">Submit Payment</button>
  </form>

  <div id="methodError" style="color: red; display: none;">Please select a payment method.</div>
</div>

<style>
  .payment-icons {
    display: flex;
    gap: 20px;
    margin-bottom: 20px;
  }
  .pay-icon {
    width: 80px;
    height: 80px;
    cursor: pointer;
    border: 2px solid transparent;
    border-radius: 10px;
    transition: 0.3s;
  }
  .pay-icon.selected {
    border: 2px solid #003366;
    box-shadow: 0 0 10px #003366;
  }
</style>

<script>
  const icons = document.querySelectorAll('.pay-icon');
  const input = document.getElementById('paymentMethod');
  const error = document.getElementById('methodError');

  icons.forEach(icon => {
    icon.addEventListener('click', () => {
      icons.forEach(i => i.classList.remove('selected'));
      icon.classList.add('selected');
      input.value = icon.getAttribute('data-method');
      error.style.display = 'none';
    });
  });

  document.querySelector('form').addEventListener('submit', e => {
    if (!input.value) {
      error.style.display = 'block';
      e.preventDefault();
    }
  });
</script>
{% endblock %}
